<?php
use \template\component\Row;
?>

/*==========================================================
 * Table row
**==========================================================*/
.row-table {
	display: table-row;
}
.row-table > * {
	display: table-cell;
	max-width: 100%;
	margin:0;
	float: none;
}
.row-table > .auto {
	width: 90%;
}




/*=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#
 #==========================================================
 #
 # Layout defaults
 #
 #==========================================================
*#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#*/

[data-layout] {margin: 0 auto; padding: 0; list-style: none; *zoom:1;}
[data-layout]:before 	{clear::before();}
[data-layout]:after 	{clear::after();}

[data-layout]> * 					{display: block;}
[data-layout]> [class*=span] 		{min-height:1px;float: left; box::sizing();}
[data-layout~=right]> [class*=span] {float: right; margin-left: auto;}

#body [data-layout~=row]> [class*="span"]:first-child,
#body [data-layout~=line]> [class*="span"]:first-child,
#body [data-layout~=fixed]> [class*="span"]:first-child,
#body [data-layout~=fluid]> [class*="span"]:first-child
{margin-left:0;}

#body [data-layout~=row][data-layout~=right]> [class*="span"]:first-child,
#body [data-layout~=line][data-layout~=right]> [class*="span"]:first-child ,
#body [data-layout~=fixed][data-layout~=right]> [class*="span"]:first-child,
#body [data-layout~=fluid][data-layout~=right]> [class*="span"]:first-child
{margin-right: 0;}



#body .span-reset {margin-bottom:20px; }
#body .span-reset:after {clear::after();}
#body .span-reset + [class*="span"] {margin-left: 0;}
#body .span-reset + [class*="span"]:before {clear::after();}


/*==========================================================
 * Display inline
**==========================================================*/


[data-layout~=line] {
	position: relative;
	font-size: 0;
}
/* hide whitespace in Opera,FF,IE (mandatory for Opera!)*/ 
html.safari [data-layout~=line] {font-size: 1px; letter-spacing:-1em;}


[data-layout~=line][data-layout~=normal]> * {
	font-size: 12px;
	line-height: 1.25em;
}
[data-layout~=line][data-layout~=normal-space]> * {
	margin: 0 10px;
}
[data-layout~=line][data-layout~=mini-space]> * {
	margin: 0 5px;
}

[data-layout~=line]> *,
[data-layout~=line]> [class*=span] {
	white-space: normal;
	letter-spacing: normal;
	word-spacing: normal;
	
	float: none;
	display: inline-block;
	*zoom:1;
	*display: inline;
	
	box::sizing();
}

[data-layout~=line][data-layout~=right] 	{text-align: right;}

[data-layout~=line][data-layout~=nowrap] 	{white-space: nowrap;}
[data-layout~=line][data-layout~=middle]> * {vertical-align: middle;}
[data-layout~=line][data-layout~=top]> * 	{vertical-align: top;}
[data-layout~=line][data-layout~=bottom]> * {vertical-align: bottom;}






/*=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#
 #==========================================================
 #
 # Fixed grid system
 #
 #==========================================================
*#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#*/
<?php
row::printRow('global', function($row) {
$str = <<<CSS
[data-layout~=fixed]> [class*=span],
[data-layout~=line]> [class*=span],
[data-layout~=row]> [class*=span]
{margin-left: {$row->margin}px;}
[data-layout~=row][data-layout~=right]> [class*=span],
[data-layout~=fixed][data-layout~=right]> [class*=span]
{margin-left: auto; margin-right: {$row->margin}px;}


CSS;
return $str;
});
?>

/*==========================================================
 * Spans loop
**==================*/
<?php
row::printSpans('global', function($span, $row) {
$span->offsetFirst = $span->offset-$row->margin;
$str = <<<CSS
		
.span$span->i 	{ width: {$span->width}px; }

#html #body .offset$span->i:first-child,
#html #body .offset$span->i:first-child,
#html #body .offset$span->i:first-child
{ margin-left: {$span->offsetFirst}px; }

#body .offset$span->i,
#body .offset$span->i,
#body .offset$span->i
{ margin-left: {$span->offset}px; }

#body [data-layout~=row][data-layout~=right]> .offset$span->i:first-child,
#body [data-layout~=fixed][data-layout~=right]> .offset$span->i:first-child
{ margin-left: auto; margin-right: {$span->offsetFirst}px; }

[data-layout~=row][data-layout~=right]> .offset$span->i,
[data-layout~=fixed][data-layout~=right]> .offset$span->i
{ margin-left: auto; margin-right: {$span->offset}px; }
CSS;
return $str;
});
?>




/*=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#
 #==========================================================
 #
 # Fluid grid system
 #
 #==========================================================
*#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#*/
<?php
row::printRow('global', function($row) {
$str = <<<CSS
[data-layout~=fluid]> [class*=span]
{margin-left: {$row->fluidMargin}%;}
[data-layout~=fluid][data-layout~=right]> [class*=span]
{margin-left: auto; margin-right: {$row->fluidMargin}%;}
CSS;
return $str;
});
?>

/*==========================================================
 * Spans loop
**==================*/
<?php
row::printSpans('global', function($span, $row) {
$span->fluidOffsetFirst = $span->fluidOffset;//-$row->fluidMargin;
$str = <<<CSS
.fluid-span$span->i 					{ width: {$span->fluidWidth}%; }
[data-layout~=fluid]> .span$span->i 	{ width: {$span->fluidWidth}%; }

#body [data-layout~=fluid]> .offset$span->i:first-child
{ margin-left: {$span->fluidOffsetFirst}%; }

[data-layout~=fluid]> .offset$span->i
{ margin-left: {$span->fluidOffset}%; }
[data-layout~=fluid][data-layout~=right]> .offset$span->i
{ margin-left: auto; margin-right: {$span->fluidOffset}%; }
CSS;
return $str;
});
?>


/*=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#
 #==========================================================
 #
 # Fixed Grid 20 system
 #
 #==========================================================
*#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#=#*/
<?php
Row::set('grid20', array(
	'length' => 20,		// število stolpcev
	'width' => 940,		// širina vrsticce
	//'span' => 20,		// širina stolpca
	'margin' => 20,		// širina presledka
));

row::printRow('grid20', function($row) {
$str = <<<CSS
[data-layout~=grid20]> [class*=span]
{margin-left: {$row->margin}px;}
[data-layout~=grid20][data-layout~=right]> [class*=span]
{margin-left: auto; margin-right: {$row->margin}px;}
[data-layout~=grid][data-layout~=grid20]
{margin-left: -{$row->margin}px;}
CSS;
return $str;
});
?>
/*==========================================================
 * Spans loop
**==================*/
<?php


row::printSpans('grid20', function($span, $row) {
$span->OffsetFirst = $span->offset;//-$row->margin;
$str = <<<CSS
[data-layout~=grid20]> .span$span->i 	{ width: {$span->width}px; }

#body [data-layout~=grid20]> .offset$span->i:first-child
{ margin-left: {$span->offsetFirst}px; }

[data-layout~=grid20]> .offset$span->i
{ margin-left: {$span->offset}px; }
[data-layout~=grid20][data-layout~=right]> .offset$span->i
{ margin-left: auto; margin-right: {$span->offset}px; }
CSS;
return $str;
});
?>

